@using Newtonsoft.Json
@model OurInstagram.Models.Users.User
@{
    ViewData["Title"] = "Profile";
    Layout = "_Navbar";
}

@* Đây là body *@
@section Stylesheets
{
    @* <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" *@
    @*           integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> *@
    <link rel="stylesheet" type="text/css" href="~/css/Khang_Profile/styles.css">
}
@section Scripts
{
    <script src="~/js/Khang_Profile/index.js" type="text/javascript"></script>
    <script>
        let imageArray = @Html.Raw(JsonConvert.SerializeObject(Model.images));
        images = []
        imageArray.forEach(image => {
            images.push(image["imagePath"]);
        })
        let placeholder = document.querySelector(".placeholder");
        if (images.length !== 0) {
            loadingImages(images);
            window.addEventListener("DOMContentLoaded", () => {
                placeholder.classList.remove("show");
                placeholder.classList.add("hide");
            });
        }
        else {
            window.addEventListener("DOMContentLoaded", () => {
                placeholder.classList.remove("hide");
                placeholder.classList.add("show");
            });
        }
    </script>
}

@* <body style="background-image: url('Resources/nen.gif');"> *@
<!-- Main Content -->
@* <div class="container-fluid"> *@
@*     <div class="row"> *@
@* *@
@*         <!-- Sidebar --> *@
@*         <div class="col-lg-2 d-none d-lg-block sidebar" style="height: 750px; background-color: pink;"> *@
@*         </div> *@
@* *@
@*         <!-- Main content --> *@
@*         <div class="col-lg-10 col-sm-12 content" style="height: 750px;"> *@
@* *@
@*             <!-- Personal Infomation --> *@
@*             <div class="d-flex flex-column align-items-center"> *@
@*                 <img class="avatar" src="../img/cqExxfut_400x400.jpg"> *@
@*                 <h1>Tuan Khang</h1> *@
@*                 <h4>gmail.com</h4> *@
@*                 <a><h4>Chỉnh sửa hồ sơ</h4> <i class="fas fa-edit"></i></a> *@
@*             </div> *@
@* *@
@*             <hr/> *@
@* *@
@*             <!-- Images display --> *@
@*             <div class="d-flex flex-column"> *@
@*                 <div class="d-flex justify-content-between flex-row"> *@
@*                     <div class=""> *@
@*                         <a href="" class="">Đã tạo</a> *@
@*                         <span>&nbsp;|&nbsp;</span> *@
@*                         <a href="" class="">Đã lưu</a> *@
@*                     </div> *@
@*                     <a class="btn btn-dark d-block text-white">Thêm</a> *@
@*                 </div> *@
@*             </div> *@
@* *@
@* *@
@*         </div> *@
@* *@
@*     </div> *@
@* </div> *@

<main class="home">
    <div class="profile_section">
        <div class="avatar" alt="Avatar" style="
            background-image: url('@(Model.avatarPath ?? "../../Resources/default_ava.png")')"></div>
        <div class="info_section">
            <p class="username">@(Model.username ?? "Username : Unknown")</p>
            <div class="counting_section">
                <p><strong>@(Model.images?.Count ?? 0)</strong> Posts</p>
                <p><strong>100</strong> Followers</p>
                <p><strong>50</strong> Followings</p>
            </div>
            <p class="display_name">@(Model.displayedName ?? "Display Name : Unknown")</p>
            <p class="bio">@(Model.biography ?? "Bio : Unknown")</p>
        </div>
    </div>
    <div class="separator"></div>
    <div class="homepage_container"></div>
    <p class="placeholder hide"><em>Uploaded images will be shown below</em></p>
</main>